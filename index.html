<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>360 image capture by roxen</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="javascripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="javascripts/360.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>360 image capture with Arduino and Nikon D200</h1>
        <p><a href="http://arduino.cc">Arduino</a> based image capture program to create product photos and similar. It controls a stepper motor that rotates a <a href="http://www.makerbeam.eu">Maker Beam</a> platform and camera remote control input.</p>
        <p>See it in action on <a href="http://youtu.be/mBbxLlEhO-E">YouTube</a>.</p>
        <p class="view"><a href="https://github.com/roxen/360-capture">View the Project on GitHub <small>roxen/360-capture</small></a></p>

        <ul>
          <li><a href="https://github.com/roxen/360-capture/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/roxen/360-capture/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/roxen/360-capture">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>The project</h3>
        <p>This is a simple Arduino project for creating multiple images of a of an object, suitable for product displays and similar. It uses a simple program to rotate the product platform and to control the camera. The complete program is available at <a href="https://github.com/roxen/360-capture/blob/master/three_sixty_stepper/three_sixty_stepper.ino">https://github.com/roxen/360-capture/blob/master/three_sixty_stepper/three_sixty_stepper.ino</a>.</p>
        <p>I created this because we needed good example images for a project at work. It was hard to find any good ones and we did not want to steal from <a href="http://www.apple.com/html5/showcase/threesixty/">Apple</a>.</p>

        <p><b>Drag sideways on the image below for a demo!</b></p>
        <img id="original" style="width: 100%; height: auto; border: 1px solid #777;" src="images/arduino/arduino1.jpg" />
        <div id="container" style="display: none;"></div>


        <p></p>
        <p>This is a video showing the setup and the shooting of a series of images.</p>
        <div class="video-container">
          <iframe width="560" height="315" src="http://www.youtube.com/embed/mBbxLlEhO-E" frameborder="0" allowfullscreen></iframe>
        </div>


        <p></p>
        <p></p>

        <h3>The setup</h3>
        <p>I used a Nikon D200 on tripod with a Tamron 90mm macro lens shooting directly into Apple Aperture on a MacBook Pro using a usb cable. Rotating platform is in the back with a white paper sheet on it and the Arduino board and accompanying stuff to the right of it. Power unit for the stepper motor to the right of that.</p>
        <p><img src="images/threesixty2.jpg" alt="" /></p>

        <h4>The electronics</h4>
        <p>Arduino board at the top, <a href="http://www.schmalzhaus.com/BigEasyDriver/">Big EasyDriver</a> to the right and relay to the left (the small black piece).</p>
        <p><img src="images/threesixty1.jpg" alt="" /></p>

        <h4>The platform</h4>
        <p><a href="http://www.makerbeam.eu/">Maker Beam</a>s attached to the motor head. These beams make up the rotating platform and serves as holder for the hard paper sheet I used. See the video for details.</p>
        <p><img src="images/threesixty4.jpg" alt="" /></p>

        <h4>The control panel</h4>
        <p>The two buttons on the right rotates the motor clockwise and counterclockwise. This allows for tuning the start position. The second button from the left triggers the taking of a photo. This can obviously be done from the camera itself, but using this button you can test the setup. The leftmost button starts the capturing sequence, rotating the board and taking pictures. How much the board rotates between each shot depends on how many pictures you set the program to take.</p>
        <p><img src="images/threesixty5.jpg" alt="" /></p>
        <p>Note that the board is a bit overly complicated (with the resistors and all), as I did not realize you could use the built in pull up resistors of the Arduino connections. See my <a href="http://roxen.github.io/polar-plotter/">Polar plotter</a> project for more on that.</p>


        <h3>Controlling the camera</h3>
        <p>I used a Nikon D200 for this project. It has a ten pin terminal for its remote control. I have a <a href="http://www.nikonusa.com/en/Nikon-Products/Product/Remote-Cords/4660/MC-30-Remote-Trigger-Release-%282.5-ft.%29.html">MC-30</a> remote control, which is the cheaper of the Nikon branded controls. Most tips on remote controlling your camera involves cutting the cord of your remote control. As the MC-30 is $100 I did not want to do that. The connection requires three pins and I used a servo cable and attached three pins to the ends and just stuck them into the camera. This might not be feasible or recommended for all types of connections.</p>
        <p><img src="images/threesixty3.jpg" alt="" /></p>
        <p>Most camera models seem to be controlled in the same way. They require three pins where one is the focus signal, on is the shutter signal and the third is ground. There are a few good sources with listings on how to connect different camera models. See <a href="http://www.doc-diy.net/photo/remote_pinout/">http://www.doc-diy.net/photo/remote_pinout/</a> or <a href="  http://www.hiviz.com/kits/instructions/rsr_inst.htm">http://www.hiviz.com/kits/instructions/rsr_inst.htm</a>. I used an <a href="http://www.omron.com/ecb/products/pry/111/g5v_1.html">Omron single pole relay</a> connecting both focus and shutter at the same time. If I was to do the project again, I would have used a two pole relay and trigger focus first and then the shutter. The camera bahaved a bit weird at times with this setup.</p>

        <h4>Camera settings</h4>
        <p>Note that the camera should be set to use manual mode. You don't want the camera to do light measurements for each and every image because you might get different exposure times, meaning the images will look different. You only want the angle of the photographed object to change between images.</p>
        <p>If I was to do the project again, I'd use a glossier surface, get better lighting and overexpose the images so that the white surface would get all white.</p>


        <h3>The 360 JavaScript</h3>
        <p>There are several javascript libraries out the to create a 360 viewer from a set of images. See <a href="http://www.jquery4u.com/plugins/jquery-360-degrees-image-display-plugins/">this list</a> for a few examples. Many are crappy or overly complicated though. The demo above uses a home grown script. View the source of this page for details.</p>

        <h4>Number of images to shoot</h4>
        <p>This is of course a tradeoff between rotation smoothness and data size. The demo above uses 36 images, meaning there is only a 10 degree gap between each image. The page is quite heavy to load though, which you might have noticed when you got here.</p>

        <script type="text/javascript">
        $(function(){

          var container = $('#container');
          for (var i = 36; i > 0; i--) {
            var src = "images/arduino/arduino" + i + ".jpg";
            var img = $('<img>').attr('src', src);
            container.append(img);
          }

          three_sixty_this_element($('#original'), $('#container img'));
        });
   </script>

  <p></p>


  <!-- AddThis Button BEGIN -->
  <div class="addthis_toolbox addthis_default_style ">
    <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_pinterest_pinit"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50aa6f541e3f95c5"></script>
  <!-- AddThis Button END -->

  <hr style="margin: 12px 0;" />

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = '360capture'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

 <script src="javascripts/scale.fix.js"></script>
 <script type="text/javascript">
 var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
 document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
 </script>
 <script type="text/javascript">
 try {
  var pageTracker = _gat._getTracker("UA-35928201-1");
  pageTracker._trackPageview();
} catch(err) {}
</script>

</section>
<footer>
  <p>This project is maintained by <a href="https://github.com/roxen">roxen</a></p>
  <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
</footer>
</div>

</body>
</html>
